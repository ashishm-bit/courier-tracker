<!-- Add this inside your index.html just below the table -->
<div class="mt-6 text-right">
  <button onclick="exportToCSV()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Export to CSV</button>
</div>

<script>
function exportToCSV() {
  db.collection("couriers").get().then((querySnapshot) => {
    const rows = [];
    rows.push(["Request ID", "Vendor Name", "Courier Name", "Tracking ID", "Total Qty", "Qty Received"]);

    querySnapshot.forEach((doc) => {
      const d = doc.data();
      rows.push([
        d.requestId || "",
        d.vendorName || "",
        d.courierName || "",
        d.trackingId || "",
        d.totalQuantity || 0,
        d.quantityReceived || 0
      ]);
    });

    // Create CSV
    let csvContent = "data:text/csv;charset=utf-8," + rows.map(e => e.join(",")).join("\n");
    const encodedUri = encodeURI(csvContent);
    const link = document.createElement("a");
    link.setAttribute("href", encodedUri);
    link.setAttribute("download", "courier_data.csv");
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  });
}
</script>
